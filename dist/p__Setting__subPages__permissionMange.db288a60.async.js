(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"4qFN":function(e,t,a){"use strict";a.r(t);a("hM1O");var r=a("0lok"),n=(a("ef8T"),a("zRfz")),c=(a("j1xs"),a("7/G9")),s=a("0gua"),u=a("xwgP"),i=a.n(u),l=(a("H9NN"),a("oOyM")),o=a("kZID"),d=(a("aTjd"),a("e9J5")),p=a("9kvl"),f=a("Kvkj"),b=a("JrZZ"),h=a("duuc"),m=a("dRp0");function j(e){return O.apply(this,arguments)}function O(){return O=Object(h["a"])(Object(b["a"])().mark((function e(t){return Object(b["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m["a"])("/sys/permission/page","get",t));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function w(e){return v.apply(this,arguments)}function v(){return v=Object(h["a"])(Object(b["a"])().mark((function e(t){return Object(b["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m["a"])("/sys/permission/update","post",t));case 1:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return k=Object(h["a"])(Object(b["a"])().mark((function e(t){return Object(b["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m["a"])("/sys/permission/delete","post",t));case 1:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}var E=e=>{var t=e.cRef,a=e.refresh,r=d["a"].useForm(),c=Object(s["a"])(r,1),p=c[0],b=Object(u["useRef"])(),h=Object(u["useRef"])();Object(u["useImperativeHandle"])(t,(()=>({show:e=>{p.setFieldsValue({cname:e.cname}),h.current=e,b.current.show()}})));var m=e=>{var t=h.current,r=t.id,c=t.parentId,s=Object(o["a"])(Object(o["a"])({},e),{},{id:r,parentId:c});w(s).then((e=>{200==e.code&&(n["default"].success("\u4fdd\u5b58\u6210\u529f"),b.current.hide(),a())}))},j=e=>{};return i.a.createElement(f["e"],{title:"\u7f16\u8f91\u522b\u540d",width:640,ref:b,onCancel:()=>b.current.hide(),onOk:()=>{p.submit()}},i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(d["a"],{form:p,name:"basic",layout:"vertical",onFinish:m,onFinishFailed:j},i.a.createElement(d["a"].Item,{label:"\u540d\u79f0",name:"cname",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u522b\u540d"}]},i.a.createElement(l["a"],{style:{backgroundColor:"#ffffff"},maxLength:10,placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"})))))},g=e=>{var t=e.dispatch;return{dispatch:t}},x=Object(p["a"])(g)(E),R=()=>{var e=Object(u["useState"])(1),t=Object(s["a"])(e,2),a=t[0],l=(t[1],Object(u["useState"])(10)),o=Object(s["a"])(l,2),d=o[0],p=(o[1],Object(u["useState"])([])),b=Object(s["a"])(p,2),h=b[0],m=b[1],O=Object(u["useState"])({}),w=Object(s["a"])(O,2),v=w[0],k=w[1],E=Object(u["useRef"])(),g=Object(u["useRef"])(),R=[{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u522b\u540d",dataIndex:"cname",key:"age",width:"12%"},{title:"\u64cd\u4f5c",dataIndex:"is_auth",align:"center",render:(e,t,a)=>i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(c["a"],{onClick:()=>{g.current.show(),k(t)}},"\u5220\u9664"),i.a.createElement(c["a"],{onClick:()=>{F(t)}},"\u7f16\u8f91"))}];Object(u["useEffect"])((()=>{I()}),[]);var I=()=>{var e={page:a,pageSize:d};j(e).then((e=>{m(e.data.records)}))},F=e=>{E.current.show(e)},S=()=>{y({ids:[v.id]}).then((e=>{200===e.code&&(n["default"].success("\u5220\u9664\u6210\u529f!"),g.current.hide(),I())}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(r["a"],{columns:R,dataSource:h})," ",i.a.createElement(x,{refresh:I,cRef:E}),i.a.createElement(f["d"],{confirmRef:g,title:"\u5220\u9664\u6743\u9650",content:"\u786e\u8ba4\u8981\u5220\u9664\u8be5\u6743\u9650\u5417?",onOk:S}))};t["default"]=R}}]);