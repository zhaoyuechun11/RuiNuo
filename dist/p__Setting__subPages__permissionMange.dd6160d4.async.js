(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"4qFN":function(e,t,a){"use strict";a.r(t);a("NEgD");var n=a("VZyY"),r=(a("xmLm"),a("w4zM")),c=(a("dxZD"),a("EFI0")),s=a("0gua"),u=a("xwgP"),i=a.n(u),o=(a("XcY9"),a("vR6W")),l=a("kZID"),p=(a("jv72"),a("Yldp")),d=a("9kvl"),b=a("Kvkj"),h=a("JrZZ"),m=a("duuc"),f=a("dRp0");function j(e){return O.apply(this,arguments)}function O(){return O=Object(m["a"])(Object(h["a"])().mark((function e(t){return Object(h["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])("/sys/permission/page","get",t));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function w(e){return v.apply(this,arguments)}function v(){return v=Object(m["a"])(Object(h["a"])().mark((function e(t){return Object(h["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])("/sys/permission/update","post",t));case 1:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return y=Object(m["a"])(Object(h["a"])().mark((function e(t){return Object(h["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])("/sys/permission/delete","post",t));case 1:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}var k=e=>{var t=e.cRef,a=e.refresh,n=p["a"].useForm(),c=Object(s["a"])(n,1),d=c[0],h=Object(u["useRef"])(),m=Object(u["useRef"])();Object(u["useImperativeHandle"])(t,(()=>({show:e=>{d.setFieldsValue({cname:e.cname}),m.current=e,h.current.show()}})));var f=e=>{var t=m.current,n=t.id,c=t.parentId,s=Object(l["a"])(Object(l["a"])({},e),{},{id:n,parentId:c});w(s).then((e=>{200==e.code&&(r["default"].success("\u4fdd\u5b58\u6210\u529f"),h.current.hide(),a())}))},j=e=>{};return i.a.createElement(b["e"],{title:"\u7f16\u8f91\u522b\u540d",width:640,ref:h,onCancel:()=>h.current.hide(),onOk:()=>{d.submit()}},i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(p["a"],{form:d,name:"basic",layout:"vertical",onFinish:f,onFinishFailed:j},i.a.createElement(p["a"].Item,{label:"\u540d\u79f0",name:"cname",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u522b\u540d"}]},i.a.createElement(o["a"],{style:{backgroundColor:"#ffffff"},maxLength:10,placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"})))))},E=e=>{var t=e.dispatch;return{dispatch:t}},x=Object(d["a"])(E)(k),S=()=>{var e=Object(u["useState"])(1),t=Object(s["a"])(e,2),a=t[0],o=t[1],l=Object(u["useState"])(10),p=Object(s["a"])(l,2),d=p[0],h=p[1],m=Object(u["useState"])([]),f=Object(s["a"])(m,2),O=f[0],w=f[1],v=Object(u["useState"])({}),y=Object(s["a"])(v,2),k=y[0],E=y[1],S=Object(u["useState"])(),I=Object(s["a"])(S,2),R=I[0],F=I[1],C=Object(u["useRef"])(),z=Object(u["useRef"])(),Z=[{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u522b\u540d",dataIndex:"cname",key:"age",width:"12%"},{title:"\u64cd\u4f5c",dataIndex:"is_auth",align:"center",render:(e,t,a)=>i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(c["a"],{onClick:()=>{z.current.show(),E(t)}},"\u5220\u9664"),i.a.createElement(c["a"],{onClick:()=>{D(t)}},"\u7f16\u8f91"))}];Object(u["useEffect"])((()=>{J()}),[a,d]);var J=()=>{var e={pageNum:a,pageSize:d};j(e).then((e=>{w(e.data.records),F(e.data.total)}))},D=e=>{C.current.show(e)},N=()=>{g({ids:[k.id]}).then((e=>{200===e.code&&(r["default"].success("\u5220\u9664\u6210\u529f!"),z.current.hide(),J())}))},Y=(e,t)=>{o(e),h(t)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(n["a"],{columns:Z,dataSource:O,pagination:{pageSize:d,current:a,total:R,onChange:Y,showTotal:(e,t)=>"\u5171 ".concat(e," \u6761"),showQuickJumper:!0,pageSizeOptions:["10","20","30","40"],showSizeChanger:!0}}),i.a.createElement(x,{refresh:J,cRef:C}),i.a.createElement(b["d"],{confirmRef:z,title:"\u5220\u9664\u6743\u9650",content:"\u786e\u8ba4\u8981\u5220\u9664\u8be5\u6743\u9650\u5417?",onOk:N}))};t["default"]=S}}]);